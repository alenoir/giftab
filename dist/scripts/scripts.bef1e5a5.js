"use strict";angular.module("giftabApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider","$compileProvider",function(a,b){b.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension):/),b.imgSrcSanitizationWhitelist(/^\s*(https?|chrome-extension):/),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/popup",{templateUrl:"views/popup.html",controller:"PopupCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("giftabApp").controller("MainCtrl",["$scope","$http",function(a,b){function c(c){a.imgTitle="",a.imgSrc="images/ignore/loader.gif";var d="b0cdb95cca00131";b({method:"GET",url:"https://api.imgur.com/3/gallery/r/"+c,headers:{Authorization:"Client-ID "+d}}).success(function(b){var c=b.data,d=c[Math.floor(Math.random()*c.length)];c.length>0?(a.imgTitle=d.title,a.imgSrc=d.link):(a.imgTitle="No image...",a.imgSrc="http://i.imgur.com/43maTbc.gif")})}a.imgTitle="",a.imgSrc="images/ignore/loader.gif",chrome.storage.onChanged.addListener(function(a){void 0!=a.subreddit&&c(a.subreddit.newValue)}),chrome.storage.sync.get("subreddit",function(a){c(a.subreddit)})}]).controller("PopupCtrl",["$scope",function(a){a.user={},chrome.storage.sync.get("subreddit",function(b){a.user.subreddit=b.subreddit}),console.log(a.user),a.update=function(a){console.log(a);var b=a.subreddit;return b?void chrome.storage.sync.set({subreddit:b},function(){console.log("Settings saved")}):void console.log("Error: No value specified")}}]);